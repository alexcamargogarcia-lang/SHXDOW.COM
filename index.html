<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rayz Hub â€¢ JobId Joiner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#0a0a0a;
  --card:#111;
  --border:#222;
  --text:#f5f5f5;
  --muted:#9a9a9a;
  --neo:#7b7cff;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:radial-gradient(circle at top,#111,#000);
  color:var(--text);
}
.wrap{
  max-width:900px;
  margin:auto;
  padding:20px;
}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 0 30px #000;
}
h1,h3{
  margin:0 0 10px;
}
h1{
  text-align:center;
  color:var(--neo);
}
.sub{
  text-align:center;
  color:var(--muted);
  margin-bottom:10px;
}
input,textarea{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:#0c0c0c;
  color:#fff;
  margin:6px 0;
}
button{
  background:var(--neo);
  color:#000;
  border:none;
  padding:12px 20px;
  border-radius:999px;
  font-weight:700;
  cursor:pointer;
  transition:.25s;
}
button:hover{
  transform:translateY(-2px);
  box-shadow:0 0 20px var(--neo);
}
hr{
  border:none;
  height:1px;
  background:#222;
  margin:20px 0;
}
.scripts{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:16px;
}
.script{
  background:#0c0c0c;
  border:1px solid #1f1f1f;
  border-radius:16px;
  overflow:hidden;
  transition:.3s;
}
.script:hover{
  transform:translateY(-4px);
  border-color:var(--neo);
}
.script img{
  width:100%;
  height:140px;
  object-fit:cover;
}
.script .p{
  padding:14px;
}
.script h4{margin:0;}
.muted{color:var(--muted);font-size:.9em;}
.actions{
  margin-top:10px;
  display:flex;
  gap:8px;
}
.small{
  text-align:center;
  color:var(--muted);
}
.hidden{display:none;}
</style>
</head>
<body>

<div class="wrap">

  <!-- MAIN -->
  <div class="card">
    <h1>Rayz Hub</h1>
    <div class="sub">Instant JobId Server Joiner</div>

    <input id="jobId" placeholder="Enter JobId">
    <button onclick="join()">Join Server</button>

    <hr>
    <h3 style="color:var(--neo)">Scripts</h3>
    <div id="publicScripts" class="scripts"></div>
  </div>

  <!-- ADMIN LOGIN -->
  <div class="card">
    <h3>Admin Panel</h3>
    <input id="adminMail" placeholder="Admin Email">
    <input id="adminPass" type="password" placeholder="Password">
    <button onclick="login()">Unlock</button>
  </div>

  <!-- ADMIN DASH -->
  <div id="adminPanel" class="card hidden">
    <h3>Manage Scripts</h3>

    <input id="sTitle" placeholder="Script title">
    <input id="sImg" placeholder="Image URL">
    <textarea id="sDesc" placeholder="Description"></textarea>
    <textarea id="sCode" placeholder="Lua Script Code"></textarea>
    <button onclick="addScript()">Add Script</button>

    <hr>
    <div id="adminScripts" class="scripts"></div>
  </div>

</div>

<script>
const PLACE_ID = 2753915549;
const ADMIN_EMAIL = "alexcamargogarcia@gmail.com";
const ADMIN_PASS = "190488";

// ELEMENTOS DEL DOM
const jobId = document.getElementById("jobId");
const adminMail = document.getElementById("adminMail");
const adminPass = document.getElementById("adminPass");
const adminPanel = document.getElementById("adminPanel");

const sTitle = document.getElementById("sTitle");
const sImg = document.getElementById("sImg");
const sDesc = document.getElementById("sDesc");
const sCode = document.getElementById("sCode");

const publicScripts = document.getElementById("publicScripts");
const adminScripts = document.getElementById("adminScripts");

// FUNCIONES
function join(){
  const j = jobId.value.trim();
  if(!j) return alert("JobId missing");
  location.href = `roblox://experiences/start?placeId=${PLACE_ID}&gameInstanceId=${j}`;
  setTimeout(()=>{
    location.href=`https://www.roblox.com/games/${PLACE_ID}?placeInstanceId=${j}`;
  },1500);
}

function load(){
  return JSON.parse(localStorage.getItem("rayz_scripts")||"[]");
}

function save(d){
  localStorage.setItem("rayz_scripts",JSON.stringify(d));
}

function renderPublicScripts(){
  const d = load();
  publicScripts.innerHTML = d.map(s=>`
    <div class="script">
      <img src="${s.img}" alt="${s.title}">
      <div class="p">
        <h4>${s.title}</h4>
        <div class="muted">${s.desc}</div>
        <div class="actions">
          <button onclick="navigator.clipboard.writeText(\`${s.code}\`)">
            Copy Code
          </button>
        </div>
      </div>
    </div>
  `).join("") || "<div class='small'>No scripts yet</div>";
}

function renderAdmin(){
  const d = load();
  adminScripts.innerHTML = d.map((s,i)=>`
    <div class="script">
      <img src="${s.img}" alt="${s.title}">
      <div class="p">
        <h4>${s.title}</h4>
        <div class="actions">
          <button onclick="del(${i})">Delete</button>
        </div>
      </div>
    </div>
  `).join("") || "<div class='small'>No scripts yet</div>";
}

function addScript(){
  const title = sTitle.value.trim();
  const img = sImg.value.trim();
  const desc = sDesc.value.trim();
  const code = sCode.value.trim();

  if(!title || !code){
    return alert("Title and Code are required!");
  }

  const d = load();
  d.push({title,img,desc,code});
  save(d);
  renderPublicScripts();
  renderAdmin();

  // Limpiar inputs
  sTitle.value = sImg.value = sDesc.value = sCode.value = "";
}

function del(i){
  const d = load();
  d.splice(i,1);
  save(d);
  renderPublicScripts();
  renderAdmin();
}

function login(){
  if(adminMail.value===ADMIN_EMAIL && adminPass.value===ADMIN_PASS){
    adminPanel.classList.remove("hidden");
    renderAdmin();
    adminMail.value = adminPass.value = "";
  } else {
    alert("Access denied");
  }
}

// RENDER INICIAL
renderPublicScripts();
</script>
</body>
</html>
